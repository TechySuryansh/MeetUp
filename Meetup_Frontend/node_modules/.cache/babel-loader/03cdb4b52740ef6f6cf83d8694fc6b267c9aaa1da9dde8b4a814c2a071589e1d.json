{"ast":null,"code":"var _jsxFileName = \"/Users/suryansh/Desktop/MeetUp/Meetup_Frontend/src/context/AppContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContext = /*#__PURE__*/createContext();\nconst initialState = {\n  currentUser: null,\n  token: localStorage.getItem('meetup_token'),\n  isAuthenticated: false,\n  onlineUsers: [],\n  activeCall: null,\n  socket: null,\n  isConnected: false,\n  callRoom: null,\n  localStream: null,\n  remoteStreams: {}\n};\nconst appReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_CURRENT_USER':\n      return {\n        ...state,\n        currentUser: action.payload,\n        isAuthenticated: !!action.payload\n      };\n    case 'SET_TOKEN':\n      return {\n        ...state,\n        token: action.payload\n      };\n    case 'SET_AUTH_STATE':\n      return {\n        ...state,\n        currentUser: action.payload.user,\n        token: action.payload.token,\n        isAuthenticated: !!action.payload.user\n      };\n    case 'LOGOUT':\n      return {\n        ...state,\n        currentUser: null,\n        token: null,\n        isAuthenticated: false,\n        onlineUsers: [],\n        activeCall: null,\n        socket: null,\n        isConnected: false,\n        callRoom: null,\n        localStream: null,\n        remoteStreams: {}\n      };\n    case 'SET_ONLINE_USERS':\n      return {\n        ...state,\n        onlineUsers: action.payload\n      };\n    case 'ADD_ONLINE_USER':\n      return {\n        ...state,\n        onlineUsers: [...state.onlineUsers.filter(u => u.id !== action.payload.id), action.payload]\n      };\n    case 'REMOVE_ONLINE_USER':\n      return {\n        ...state,\n        onlineUsers: state.onlineUsers.filter(u => u.id !== action.payload)\n      };\n    case 'SET_SOCKET':\n      return {\n        ...state,\n        socket: action.payload\n      };\n    case 'SET_CONNECTION_STATUS':\n      return {\n        ...state,\n        isConnected: action.payload\n      };\n    case 'SET_ACTIVE_CALL':\n      return {\n        ...state,\n        activeCall: action.payload\n      };\n    case 'SET_CALL_ROOM':\n      return {\n        ...state,\n        callRoom: action.payload\n      };\n    case 'SET_LOCAL_STREAM':\n      return {\n        ...state,\n        localStream: action.payload\n      };\n    case 'ADD_REMOTE_STREAM':\n      return {\n        ...state,\n        remoteStreams: {\n          ...state.remoteStreams,\n          [action.payload.userId]: action.payload.stream\n        }\n      };\n    case 'REMOVE_REMOTE_STREAM':\n      const newRemoteStreams = {\n        ...state.remoteStreams\n      };\n      delete newRemoteStreams[action.payload];\n      return {\n        ...state,\n        remoteStreams: newRemoteStreams\n      };\n    case 'RESET_CALL_STATE':\n      return {\n        ...state,\n        activeCall: null,\n        callRoom: null,\n        localStream: null,\n        remoteStreams: {}\n      };\n    default:\n      return state;\n  }\n};\nexport const AppProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(appReducer, initialState);\n\n  // Check for existing token on app start\n  useEffect(() => {\n    const token = localStorage.getItem('meetup_token');\n    if (token) {\n      // Verify token with backend\n      verifyToken(token);\n    }\n  }, []);\n  useEffect(() => {\n    // Initialize socket connection when user is authenticated\n    if (state.currentUser && state.isAuthenticated && !state.socket) {\n      const socket = io(process.env.REACT_APP_SERVER_URL || 'http://localhost:3001', {\n        auth: {\n          token: state.token\n        }\n      });\n      socket.on('connect', () => {\n        dispatch({\n          type: 'SET_CONNECTION_STATUS',\n          payload: true\n        });\n        socket.emit('user-joined', state.currentUser);\n      });\n      socket.on('disconnect', () => {\n        dispatch({\n          type: 'SET_CONNECTION_STATUS',\n          payload: false\n        });\n      });\n      socket.on('users-list', users => {\n        dispatch({\n          type: 'SET_ONLINE_USERS',\n          payload: users\n        });\n      });\n      socket.on('user-joined', user => {\n        dispatch({\n          type: 'ADD_ONLINE_USER',\n          payload: user\n        });\n      });\n      socket.on('user-left', userId => {\n        dispatch({\n          type: 'REMOVE_ONLINE_USER',\n          payload: userId\n        });\n      });\n      dispatch({\n        type: 'SET_SOCKET',\n        payload: socket\n      });\n      return () => {\n        socket.disconnect();\n      };\n    }\n  }, [state.currentUser, state.isAuthenticated, state.socket, state.token]);\n\n  // API call helper\n  const apiCall = async (endpoint, options = {}) => {\n    const url = `${process.env.REACT_APP_SERVER_URL || 'http://localhost:3001'}${endpoint}`;\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...(state.token && {\n          Authorization: `Bearer ${state.token}`\n        })\n      },\n      ...options\n    };\n    const response = await fetch(url, config);\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data.message || 'Something went wrong');\n    }\n    return data;\n  };\n\n  // Authentication functions\n  const signup = async (username, email, password) => {\n    try {\n      const data = await apiCall('/api/auth/signup', {\n        method: 'POST',\n        body: JSON.stringify({\n          username,\n          email,\n          password\n        })\n      });\n\n      // Auto-login after successful signup\n      return login(email, password);\n    } catch (error) {\n      throw error;\n    }\n  };\n  const login = async (email, password) => {\n    try {\n      const data = await apiCall('/api/auth/login', {\n        method: 'POST',\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n\n      // Store token and user data\n      localStorage.setItem('meetup_token', data.token);\n      dispatch({\n        type: 'SET_AUTH_STATE',\n        payload: {\n          user: data.user,\n          token: data.token\n        }\n      });\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  };\n  const logout = () => {\n    localStorage.removeItem('meetup_token');\n    if (state.socket) {\n      state.socket.disconnect();\n    }\n    dispatch({\n      type: 'LOGOUT'\n    });\n  };\n  const verifyToken = async token => {\n    try {\n      const data = await apiCall('/api/auth/me', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      dispatch({\n        type: 'SET_AUTH_STATE',\n        payload: {\n          user: data.user,\n          token\n        }\n      });\n    } catch (error) {\n      // Token is invalid, remove it\n      localStorage.removeItem('meetup_token');\n      dispatch({\n        type: 'LOGOUT'\n      });\n    }\n  };\n\n  // Legacy function for backward compatibility\n  const joinApp = username => {\n    const user = {\n      id: Date.now().toString(),\n      username,\n      joinedAt: new Date().toISOString()\n    };\n    dispatch({\n      type: 'SET_CURRENT_USER',\n      payload: user\n    });\n  };\n  const leaveApp = () => {\n    logout();\n  };\n  const startCall = (targetUsers, isVideo = false) => {\n    const callData = {\n      id: Date.now().toString(),\n      initiator: state.currentUser,\n      participants: [state.currentUser, ...targetUsers],\n      isVideo,\n      startedAt: new Date().toISOString()\n    };\n    dispatch({\n      type: 'SET_ACTIVE_CALL',\n      payload: callData\n    });\n    if (state.socket) {\n      state.socket.emit('start-call', callData);\n    }\n  };\n  const joinCall = callId => {\n    if (state.socket) {\n      state.socket.emit('join-call', {\n        callId,\n        user: state.currentUser\n      });\n    }\n  };\n  const leaveCall = () => {\n    if (state.socket && state.activeCall) {\n      state.socket.emit('leave-call', {\n        callId: state.activeCall.id,\n        userId: state.currentUser.id\n      });\n    }\n\n    // Clean up local stream\n    if (state.localStream) {\n      state.localStream.getTracks().forEach(track => track.stop());\n    }\n    dispatch({\n      type: 'RESET_CALL_STATE'\n    });\n  };\n  const value = {\n    ...state,\n    signup,\n    login,\n    logout,\n    joinApp,\n    leaveApp,\n    startCall,\n    joinCall,\n    leaveCall,\n    dispatch\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 5\n  }, this);\n};\n_s(AppProvider, \"GUSXxL/WUElrtHc/X73NyHNRMdw=\");\n_c = AppProvider;\nexport const useApp = () => {\n  _s2();\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useApp must be used within an AppProvider');\n  }\n  return context;\n};\n_s2(useApp, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","io","jsxDEV","_jsxDEV","AppContext","initialState","currentUser","token","localStorage","getItem","isAuthenticated","onlineUsers","activeCall","socket","isConnected","callRoom","localStream","remoteStreams","appReducer","state","action","type","payload","user","filter","u","id","userId","stream","newRemoteStreams","AppProvider","children","_s","dispatch","verifyToken","process","env","REACT_APP_SERVER_URL","auth","on","emit","users","disconnect","apiCall","endpoint","options","url","config","headers","Authorization","response","fetch","data","json","ok","Error","message","signup","username","email","password","method","body","JSON","stringify","login","error","setItem","logout","removeItem","joinApp","Date","now","toString","joinedAt","toISOString","leaveApp","startCall","targetUsers","isVideo","callData","initiator","participants","startedAt","joinCall","callId","leaveCall","getTracks","forEach","track","stop","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useApp","_s2","context","$RefreshReg$"],"sources":["/Users/suryansh/Desktop/MeetUp/Meetup_Frontend/src/context/AppContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport io from 'socket.io-client';\n\nconst AppContext = createContext();\n\nconst initialState = {\n  currentUser: null,\n  token: localStorage.getItem('meetup_token'),\n  isAuthenticated: false,\n  onlineUsers: [],\n  activeCall: null,\n  socket: null,\n  isConnected: false,\n  callRoom: null,\n  localStream: null,\n  remoteStreams: {},\n};\n\nconst appReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_CURRENT_USER':\n      return { ...state, currentUser: action.payload, isAuthenticated: !!action.payload };\n    case 'SET_TOKEN':\n      return { ...state, token: action.payload };\n    case 'SET_AUTH_STATE':\n      return { \n        ...state, \n        currentUser: action.payload.user, \n        token: action.payload.token,\n        isAuthenticated: !!action.payload.user \n      };\n    case 'LOGOUT':\n      return {\n        ...state,\n        currentUser: null,\n        token: null,\n        isAuthenticated: false,\n        onlineUsers: [],\n        activeCall: null,\n        socket: null,\n        isConnected: false,\n        callRoom: null,\n        localStream: null,\n        remoteStreams: {},\n      };\n    case 'SET_ONLINE_USERS':\n      return { ...state, onlineUsers: action.payload };\n    case 'ADD_ONLINE_USER':\n      return { \n        ...state, \n        onlineUsers: [...state.onlineUsers.filter(u => u.id !== action.payload.id), action.payload] \n      };\n    case 'REMOVE_ONLINE_USER':\n      return { \n        ...state, \n        onlineUsers: state.onlineUsers.filter(u => u.id !== action.payload) \n      };\n    case 'SET_SOCKET':\n      return { ...state, socket: action.payload };\n    case 'SET_CONNECTION_STATUS':\n      return { ...state, isConnected: action.payload };\n    case 'SET_ACTIVE_CALL':\n      return { ...state, activeCall: action.payload };\n    case 'SET_CALL_ROOM':\n      return { ...state, callRoom: action.payload };\n    case 'SET_LOCAL_STREAM':\n      return { ...state, localStream: action.payload };\n    case 'ADD_REMOTE_STREAM':\n      return { \n        ...state, \n        remoteStreams: { \n          ...state.remoteStreams, \n          [action.payload.userId]: action.payload.stream \n        } \n      };\n    case 'REMOVE_REMOTE_STREAM':\n      const newRemoteStreams = { ...state.remoteStreams };\n      delete newRemoteStreams[action.payload];\n      return { ...state, remoteStreams: newRemoteStreams };\n    case 'RESET_CALL_STATE':\n      return {\n        ...state,\n        activeCall: null,\n        callRoom: null,\n        localStream: null,\n        remoteStreams: {},\n      };\n    default:\n      return state;\n  }\n};\n\nexport const AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(appReducer, initialState);\n\n  // Check for existing token on app start\n  useEffect(() => {\n    const token = localStorage.getItem('meetup_token');\n    if (token) {\n      // Verify token with backend\n      verifyToken(token);\n    }\n  }, []);\n\n  useEffect(() => {\n    // Initialize socket connection when user is authenticated\n    if (state.currentUser && state.isAuthenticated && !state.socket) {\n      const socket = io(process.env.REACT_APP_SERVER_URL || 'http://localhost:3001', {\n        auth: {\n          token: state.token\n        }\n      });\n      \n      socket.on('connect', () => {\n        dispatch({ type: 'SET_CONNECTION_STATUS', payload: true });\n        socket.emit('user-joined', state.currentUser);\n      });\n\n      socket.on('disconnect', () => {\n        dispatch({ type: 'SET_CONNECTION_STATUS', payload: false });\n      });\n\n      socket.on('users-list', (users) => {\n        dispatch({ type: 'SET_ONLINE_USERS', payload: users });\n      });\n\n      socket.on('user-joined', (user) => {\n        dispatch({ type: 'ADD_ONLINE_USER', payload: user });\n      });\n\n      socket.on('user-left', (userId) => {\n        dispatch({ type: 'REMOVE_ONLINE_USER', payload: userId });\n      });\n\n      dispatch({ type: 'SET_SOCKET', payload: socket });\n\n      return () => {\n        socket.disconnect();\n      };\n    }\n  }, [state.currentUser, state.isAuthenticated, state.socket, state.token]);\n\n  // API call helper\n  const apiCall = async (endpoint, options = {}) => {\n    const url = `${process.env.REACT_APP_SERVER_URL || 'http://localhost:3001'}${endpoint}`;\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...(state.token && { Authorization: `Bearer ${state.token}` }),\n      },\n      ...options,\n    };\n\n    const response = await fetch(url, config);\n    const data = await response.json();\n\n    if (!response.ok) {\n      throw new Error(data.message || 'Something went wrong');\n    }\n\n    return data;\n  };\n\n  // Authentication functions\n  const signup = async (username, email, password) => {\n    try {\n      const data = await apiCall('/api/auth/signup', {\n        method: 'POST',\n        body: JSON.stringify({ username, email, password }),\n      });\n\n      // Auto-login after successful signup\n      return login(email, password);\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  const login = async (email, password) => {\n    try {\n      const data = await apiCall('/api/auth/login', {\n        method: 'POST',\n        body: JSON.stringify({ email, password }),\n      });\n\n      // Store token and user data\n      localStorage.setItem('meetup_token', data.token);\n      dispatch({ \n        type: 'SET_AUTH_STATE', \n        payload: { user: data.user, token: data.token } \n      });\n\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('meetup_token');\n    if (state.socket) {\n      state.socket.disconnect();\n    }\n    dispatch({ type: 'LOGOUT' });\n  };\n\n  const verifyToken = async (token) => {\n    try {\n      const data = await apiCall('/api/auth/me', {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      dispatch({ \n        type: 'SET_AUTH_STATE', \n        payload: { user: data.user, token } \n      });\n    } catch (error) {\n      // Token is invalid, remove it\n      localStorage.removeItem('meetup_token');\n      dispatch({ type: 'LOGOUT' });\n    }\n  };\n\n  // Legacy function for backward compatibility\n  const joinApp = (username) => {\n    const user = {\n      id: Date.now().toString(),\n      username,\n      joinedAt: new Date().toISOString(),\n    };\n    dispatch({ type: 'SET_CURRENT_USER', payload: user });\n  };\n\n  const leaveApp = () => {\n    logout();\n  };\n\n  const startCall = (targetUsers, isVideo = false) => {\n    const callData = {\n      id: Date.now().toString(),\n      initiator: state.currentUser,\n      participants: [state.currentUser, ...targetUsers],\n      isVideo,\n      startedAt: new Date().toISOString(),\n    };\n    dispatch({ type: 'SET_ACTIVE_CALL', payload: callData });\n    \n    if (state.socket) {\n      state.socket.emit('start-call', callData);\n    }\n  };\n\n  const joinCall = (callId) => {\n    if (state.socket) {\n      state.socket.emit('join-call', { callId, user: state.currentUser });\n    }\n  };\n\n  const leaveCall = () => {\n    if (state.socket && state.activeCall) {\n      state.socket.emit('leave-call', { \n        callId: state.activeCall.id, \n        userId: state.currentUser.id \n      });\n    }\n    \n    // Clean up local stream\n    if (state.localStream) {\n      state.localStream.getTracks().forEach(track => track.stop());\n    }\n    \n    dispatch({ type: 'RESET_CALL_STATE' });\n  };\n\n  const value = {\n    ...state,\n    signup,\n    login,\n    logout,\n    joinApp,\n    leaveApp,\n    startCall,\n    joinCall,\n    leaveCall,\n    dispatch,\n  };\n\n  return (\n    <AppContext.Provider value={value}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport const useApp = () => {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useApp must be used within an AppProvider');\n  }\n  return context;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}